---
on:
  workflow_call:
    inputs:
      uv_lint_group_name:
        type: string
        default: ""
        description: Optional uv dependency group name. If provided, runs uv sync with this group before linting.
jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v6
      - name: Setup UV
        uses: astral-sh/setup-uv@v7
      - name: Set up Python
        run: uv python install

      - name: Install dependencies
        if: ${{ inputs.uv_lint_group_name != '' }}
        run: uv sync --group ${{ inputs.uv_lint_group_name }}
      - name: Lint YAML files (with dependencies)
        if: ${{ inputs.uv_lint_group_name != '' }}
        run: uv run yamllint .

      - name: Lint YAML files (standalone)
        if: ${{ inputs.uv_lint_group_name == '' }}
        run: uv tool run yamllint .
